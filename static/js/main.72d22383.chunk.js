(this["webpackJsonpnollora-board"]=this["webpackJsonpnollora-board"]||[]).push([[0],{18:function(t,e,n){t.exports=n(29)},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(6),c=n.n(i),o=n(1),l=n(3),u=n(15),s=n(16),d=n.n(s),f=n(8),m=n(2),O=n(30),b={numOfLists:[]},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_LIST":return Object(m.a)(Object(m.a)({},t),{},{numOfLists:[].concat(Object(f.a)(t.numOfLists),[{id:Object(O.a)(),title:e.title,status:!1}])});case"UPDATE_LIST":return Object(m.a)(Object(m.a)({},t),{},{numOfLists:t.numOfLists.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{title:e.title}):t}))});case"DELETE_LIST":return Object(m.a)(Object(m.a)({},t),{},{numOfLists:t.numOfLists.filter((function(t){return t.id!==e.id}))});default:return t}},v={numOfListCards:[]},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_LIST_CARD":return Object(m.a)(Object(m.a)({},t),{},{numOfListCards:[].concat(Object(f.a)(t.numOfListCards),[{listId:e.id,id:Object(O.a)(),title:e.title,status:!1}])});case"UPDATE_LIST_CARD":return Object(m.a)(Object(m.a)({},t),{},{numOfListCards:t.numOfListCards.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{title:e.title}):t}))});case"DELETE_LIST_CARD":return{numOfListCards:t.numOfListCards.filter((function(t){return t.id!==e.id}))};default:return t}},p=Object(l.combineReducers)({list:g,listCard:E}),j=Object(l.createStore)(p,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(d.a)));var L=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"logo",src:"/logo.png",alt:"Nollora Board"}))},h=n(4);var D=function(t){var e=t.id,n=t.title,i=t.index,c=Object(a.useState)(""),l=Object(h.a)(c,2),u=l[0],s=l[1],d=Object(a.useState)(!1),f=Object(h.a)(d,2),m=f[0],O=f[1],b=Object(o.b)(),g=function(){var t=u||"New list";O(!0),b(function(t,e,n){return{type:"UPDATE_LIST",index:t,id:e,title:n}}(i,e,t))};return r.a.createElement("div",{className:"list-header"},m?r.a.createElement("h2",{onClick:function(){O(!1)}},n):r.a.createElement("input",{autoFocus:!0,type:"text",value:u,onChange:function(t){return function(t){s(t.target.value)}(t)},onKeyPress:function(t){return function(t){"Enter"===t.key&&g()}(t)},onBlur:function(){g()},placeholder:"Add list title"}),r.a.createElement("button",{className:"action",onClick:function(){return b({type:"DELETE_LIST",id:e})}},"\u2022\u2022\u2022"))};var y=function(t){var e=t.id,n=Object(o.c)((function(t){return t.listCard.numOfListCards})),a=Object(o.b)(),i=n.filter((function(t){return t.listId===e}));return r.a.createElement("div",{className:"list-footer"},r.a.createElement("button",{className:"btn-add-card",onClick:function(){return a(function(t,e){return{type:"ADD_LIST_CARD",id:t,title:e}}(e,""))}},"+ Add ",i.length>0?"another":"a"," card"))};var C=function(t){var e=t.id,n=t.title,i=t.index,c=Object(a.useState)(""),l=Object(h.a)(c,2),u=l[0],s=l[1],d=Object(a.useState)(!1),f=Object(h.a)(d,2),m=f[0],O=f[1],b=Object(o.b)(),g=function(){var t=u||"New task";O(!0),b(function(t,e,n){return{type:"UPDATE_LIST_CARD",index:t,id:e,title:n}}(i,e,t))},v=null,E=!1;return r.a.createElement("div",{className:"list-card",draggable:!0,onDragStart:function(t){return function(t,e){t.dataTransfer.setData("id",e),E=!0,console.log("onDragStart",E),null!==(v=t.target)&&(v.xOffset||(v.xOffset=0),v.yOffset||(v.yOffset=0),"touchstart"===t.type?(v.initialX=t.touches[0].clientX-v.xOffset,v.initialY=t.touches[0].clientY-v.yOffset):(console.log("doing something!"),v.initialX=t.clientX-v.xOffset,v.initialY=t.clientY-v.yOffset))}(t,e)},onDrag:function(t){return function(t){t.preventDefault(),E&&(console.log("drag",E),"touchmove"===t.type?(t.preventDefault(),v.currentX=t.touches[0].clientX-v.initialX,v.currentY=t.touches[0].clientY-v.initialY):(v.currentX=t.clientX-v.initialX,v.currentY=t.clientY-v.initialY),v.xOffset=v.currentX,v.yOffset=v.currentY,console.log(v.xOffset,v.yOffset),v.classList.add("dragging"),v.style.transform="translate3d("+v.currentX+"px, "+v.currentY+"px, 0) rotate(3deg)")}(t)},onDragEnd:function(t){return console.log("dragEnd"),null!==v&&(v.classList.remove("dragging"),v.style.transform="translate3d("+v.currentX+"px, "+v.currentY+"px, 0) rotate(0deg)"),E=!1,void(v=null)}},m?r.a.createElement("div",{className:"list-card-task",onClick:function(){O(!1)}},n):r.a.createElement("input",{autoFocus:!0,type:"text",value:u,onChange:function(t){return function(t){s(t.target.value)}(t)},onKeyPress:function(t){return function(t){"Enter"===t.key&&g()}(t)},onBlur:function(){g()},placeholder:"Add task"}),r.a.createElement("button",{className:"btn-delete-card",onClick:function(){return b(function(t){return{type:"DELETE_LIST_CARD",id:t}}(e))}},"\xd7"))};var T=function(t){var e=t.id,n=t.title,a=t.index,i=Object(o.c)((function(t){return t.listCard.numOfListCards})),c=e;return document.addEventListener("mousemove",(function(t){var e=document.elementFromPoint(t.clientX,t.clientY);console.log(t.clientX,t.clientY),e.closest(".list")&&console.log("yes",a)})),r.a.createElement("div",{className:"list",onDragOver:function(t){return function(t){t.preventDefault(),console.log("onDragOver Init")}(t)},onDrop:function(t){!function(t,e){var n=t.dataTransfer.getData("id");console.log("onDrop: ",{id:n})}(t)}},r.a.createElement(D,{id:e,title:n,index:a}),i.map((function(t){return t.listId===c?r.a.createElement(C,{key:t.id,id:t.id,title:t.title}):""})),r.a.createElement(y,{id:e}))};var x=function(){var t=Object(o.c)((function(t){return t.list.numOfLists})),e=Object(o.b)(),n=t.length;return r.a.createElement("button",{className:"btn-add-list",onClick:function(){return e({type:"ADD_LIST",title:""})}},"+ Add ",n>0?"another":"new"," list")};var S=function(){var t=Object(o.c)((function(t){return t.list.numOfLists}));return r.a.createElement("div",{className:"board"},t.map((function(t,e){return r.a.createElement(T,{key:t.id,id:t.id,index:e,title:t.title})})),r.a.createElement(x,null))};n(28);var A=function(){return r.a.createElement(o.a,{store:j},r.a.createElement(L,null),r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.72d22383.chunk.js.map